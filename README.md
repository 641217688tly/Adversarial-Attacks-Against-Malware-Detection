# GAN-Based Malware Detection Model Attacker

## 引用

我们小组的项目引用自[ZaydH/MalwareGAN: Adversarial Malware Generator Using GANs (github.com)](https://github.com/ZaydH/MalwareGAN),它基于"[*Generating Adversarial Malware Examples for Black-Box Attacks Based on GAN*](https://arxiv.org/abs/1702.05983)"的工作, 实现了一个可以创建对抗性恶意软件样本的生成对抗网络(GAN).

我们将在上述项目的代码基础上对GAN的生成器进行优化,同时进一步扩充黑盒检测器所使用的算法种类,以此来模拟Malware的制作者对恶意软件检测模型的攻击场景,并验证基于GAN的攻击策略对于不同的黑盒模型是否有效.



## 运行脚本

malgan包提供了恶意软件GAN，驱动脚本在`main.py`中，通过`argparse`处理输入参数。基本接口如下：

```python
python main.py Z BATCH_SIZE NUM_EPOCHS MALWARE_FILE BENIGN_FILE
```

* `Z` -- 潜在向量的维度。必须是正整数。
* `BATCH_SIZE` -- *恶意*样本的批量大小。良性批量大小与`BATCH_SIZE`和总训练样本中良性样本的比例成比例。
* `NUM_EPOCHS` -- 最大训练周期数
* `MALWARE_FILE` -- 指向序列化的`numpy`或`torch`矩阵的路径，其中行代表单个**恶意**文件的二进制特征向量。
* `BENIGN_FILE` -- 指向序列化的`numpy`或`torch`矩阵的路径，其中行代表单个**良性**文件的二进制特征向量。

以下是一个使用例子：

    python main.py 10 32 100 data/trial_mal.npy data/trial_ben.npy 



## 数据集

这个实现中包含了一个在`data`文件夹中的试验数据集。这个数据是在这个仓库中发布的：[yanminglai/Malware-GAN](https://github.com/yanminglai/Malware-GAN)。这个数据集只应该用于概念证明和初步试验。

我们推荐SLEIPNIR数据集。它是由ad-Dujaili等人发布的。作者要求不要公开分享数据集，我们尊重这个请求。然而，研究人员和学生可以如他们的[Github仓库](https://github.com/ALFA-group/robust-adv-malware-detection)中描述的那样直接向作者请求访问。查找链接到Google表单的链接。



## CUDA支持

这个实现支持CPU和CUDA（即GPU）执行。如果系统上检测到CUDA，实现将默认支持CUDA。



## 依赖要求

该程序在MacOS和Debian Linux上的Python 3.6.5环境中进行了测试。`requirements.txt`列出了所使用的确切软件包。以下是关键要求的总结：

- PyTorch (`torch`) -- 版本 1.2.0
- Scikit-Learn (`sklearn`) -- 版本 0.20.2
- NumPy (`numpy`)
- TensorboardX -- 如果不需要运行时分析，可以删除这个软件包。

Translate the above content
