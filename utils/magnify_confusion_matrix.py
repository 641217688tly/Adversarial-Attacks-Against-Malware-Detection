import matplotlib.pyplot as plt
import numpy as np

def draw_confusion_matrix(tn, fp, fn, tp, font_size=22, font_weight='bold', font_name='Arial', colorbar_font_size=20):
    confusion_mat = np.array([[tn, fp], [fn, tp]])
    labels = ['Benign', 'Malware']

    fig, ax = plt.subplots(figsize=(8, 6))
    cax = ax.imshow(confusion_mat, interpolation='nearest', cmap=plt.cm.Blues)
    ax.set_title('Against SVM', fontsize=28, fontweight=font_weight, family=font_name)
    cbar = fig.colorbar(cax)
    cbar.ax.tick_params(labelsize=colorbar_font_size)  # 设置colorbar刻度字体大小

    tick_marks = np.arange(len(labels))
    ax.set_xticks(tick_marks)
    ax.set_xticklabels(labels, rotation=45, fontsize=font_size, family=font_name)
    ax.set_yticks(tick_marks)
    ax.set_yticklabels(labels, fontsize=font_size, family=font_name)

    thresh = confusion_mat.max() / 2.
    for i, j in np.ndindex(confusion_mat.shape):
        ax.text(j, i, format(confusion_mat[i, j], 'd'),
                horizontalalignment="center",
                color="white" if confusion_mat[i, j] > thresh else "black",
                fontsize=font_size, fontweight=font_weight, family=font_name)

    ax.set_ylabel('True label', fontsize=font_size, family=font_name)
    ax.set_xlabel('Predicted label', fontsize=font_size, family=font_name)
    plt.tight_layout()
    plt.show()

# 示例使用：
draw_confusion_matrix(tn=73, fp=15, fn=233, tp=40, font_size=22)
